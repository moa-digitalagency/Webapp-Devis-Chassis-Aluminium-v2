<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Profil - Devis Ch√¢ssis Aluminium</title>
    <link rel="stylesheet" href="/static/css/styles.css?v=20251003b">
    <style>
        .profile-content { flex: 1; padding: 2rem; max-width: 800px; margin: 0 auto; width: 100%; }
        .profile-card { background: var(--bg-white); border-radius: var(--border-radius); box-shadow: var(--shadow-md); padding: 2rem; }
        .profile-header { display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border); }
        .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: var(--bg-light); display: flex; align-items: center; justify-content: center; color: var(--primary); }
        .profile-info h2 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .role-badge { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.875rem; font-weight: 500; }
        .role-admin { background: #FEF3C7; color: #92400E; }
        .role-user { background: #DBEAFE; color: #1E40AF; }
        .form-section { margin-bottom: 2rem; }
        .form-section h3 { font-size: 1.125rem; margin-bottom: 1rem; }
        .form-section small { display: block; margin-top: 0.25rem; color: var(--text-light); font-size: 0.875rem; }
        .form-actions { display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; }
        .profile-danger-zone { padding-top: 2rem; border-top: 1px solid var(--border); }
        .profile-danger-zone h3 { color: var(--danger); margin-bottom: 0.5rem; }
        .btn-danger { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.625rem 1.25rem; background: var(--danger); color: white; border: none; border-radius: var(--border-radius); font-weight: 500; cursor: pointer; }
        .btn-danger:hover { background: #DC2626; }
        .notification { position: fixed; top: 2rem; right: 2rem; padding: 1rem 1.5rem; border-radius: var(--border-radius); box-shadow: var(--shadow-lg); z-index: 1000; }
        .notification-success { background: #D1FAE5; color: #065F46; }
        .notification-error { background: #FEE2E2; color: #991B1B; }
        .notification-info { background: #DBEAFE; color: #1E40AF; }
    </style>
</head>
<body class="with-pattern">
    <div class="app-container">
        <header class="modern-header">
            <div class="header-left">
                <svg class="header-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <h1>üë§ Mon Profil</h1>
            </div>
            <div class="header-right">
                <button id="backBtn" class="btn-secondary">
                    ‚Üê Retour
                </button>
                <button id="logoutBtn" class="btn-secondary">
                    üö™ D√©connexion
                </button>
            </div>
        </header>

        <main class="profile-content">
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <div class="profile-info">
                        <h2 id="displayFullName"></h2>
                        <p id="displayRole" class="role-badge"></p>
                    </div>
                </div>

                <form id="profileForm" class="profile-form">
                    <div class="form-section">
                        <h3>Informations personnelles</h3>
                        
                        <div class="form-group">
                            <label for="fullName">Nom complet</label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>

                        <div class="form-group">
                            <label for="username">Nom d'utilisateur</label>
                            <input type="text" id="username" name="username" disabled>
                            <small>Le nom d'utilisateur ne peut pas √™tre modifi√©</small>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Modifier le mot de passe</h3>
                        
                        <div class="form-group">
                            <label for="currentPassword">Mot de passe actuel</label>
                            <input type="password" id="currentPassword" name="currentPassword">
                        </div>

                        <div class="form-group">
                            <label for="newPassword">Nouveau mot de passe</label>
                            <input type="password" id="newPassword" name="newPassword">
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">Confirmer le mot de passe</label>
                            <input type="password" id="confirmPassword" name="confirmPassword">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="cancelBtn" class="btn-secondary">Annuler</button>
                        <button type="submit" class="btn-primary">Enregistrer les modifications</button>
                    </div>
                </form>

                <div class="profile-danger-zone">
                    <h3>Zone de d√©connexion</h3>
                    <p>Vous serez redirig√© vers la page de connexion</p>
                    <button id="logoutBtn" class="btn-danger">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        Se d√©connecter
                    </button>
                </div>
            </div>

            <div id="notification" class="notification" style="display: none;"></div>
        </main>
    </div>

    <script src="/static/js/profile.js?v=20251003"></script>
</body>
</html>
